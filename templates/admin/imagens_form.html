{% extends "admin/base.html" %}

{% block title %}{% if imagem %}Editar{% else %}Nova{% endif %} Imagem{% endblock %}

{% block page_title %}{% if imagem %}Editar{% else %}Nova{% endif %} Imagem{% endblock %}

{% block content %}
<div class="admin-card">
    <form method="POST" class="admin-form" enctype="multipart/form-data">
        {% if imagem %}
            <div class="form-group">
                <label>Imagem Atual</label>
                <img src="{{ url_for('static', filename=imagem.caminho) }}" 
                     alt="{{ imagem.titulo }}" 
                     style="max-width: 300px; max-height: 300px; border-radius: 0.5rem; display: block; margin-top: 0.5rem;">
            </div>
        {% else %}
            <div class="form-group">
                <label for="file">Arquivo da Imagem *</label>
                <input type="file" id="file" name="file" accept="image/*" {% if not imagem %}required{% endif %}>
                <small style="color: var(--text-light);">Formatos aceitos: PNG, JPG, JPEG, GIF, WEBP (m√°x. 16MB)</small>
            </div>
        {% endif %}
        
        <div class="form-group">
            <label for="titulo">T√≠tulo</label>
            <input type="text" id="titulo" name="titulo" value="{% if imagem %}{{ imagem.titulo }}{% endif %}">
        </div>
        
        <div class="form-group">
            <label for="descricao">Descri√ß√£o</label>
            <textarea id="descricao" name="descricao" rows="4">{% if imagem %}{{ imagem.descricao }}{% endif %}</textarea>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn-admin btn-admin-primary">
                <span>üíæ</span> Salvar
            </button>
            <a href="{{ url_for('admin_imagens') }}" class="btn-admin btn-admin-secondary">
                <span>‚Ü©Ô∏è</span> Cancelar
            </a>
        </div>
    </form>
</div>
{% endblock %}

