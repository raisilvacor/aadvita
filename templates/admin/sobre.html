{% extends "admin/base.html" %}

{% block title %}Gerenciar P√°gina Sobre{% endblock %}

{% block page_title %}Gerenciar P√°gina Sobre{% endblock %}

{% block content %}
<!-- Conte√∫dos -->
<div class="admin-card">
    <h2 class="admin-card-title" style="margin-bottom: 1.5rem;">Conte√∫dos</h2>
    
    <!-- Quem Somos -->
    <form method="POST" action="{{ url_for('admin_sobre_conteudo') }}" class="admin-form" style="margin-bottom: 2rem;">
        <input type="hidden" name="chave" value="quem_somos">
        <div class="form-group">
            <label for="quem_somos_pt"><strong>Quem Somos (Portugu√™s)</strong></label>
            <textarea id="quem_somos_pt" name="conteudo_pt" rows="5" class="form-input">{% if quem_somos %}{{ quem_somos.conteudo_pt }}{% else %}A AADVITA - Associa√ß√£o dos Deficientes Visuais Tapuienses √© uma organiza√ß√£o sem fins lucrativos dedicada a promover a inclus√£o, acessibilidade e qualidade de vida para pessoas com defici√™ncia visual em nossa comunidade.{% endif %}</textarea>
        </div>
        <div class="form-group">
            <label for="quem_somos_es">Quem Somos (Espanhol)</label>
            <textarea id="quem_somos_es" name="conteudo_es" rows="5" class="form-input">{% if quem_somos %}{{ quem_somos.conteudo_es }}{% endif %}</textarea>
        </div>
        <div class="form-group">
            <label for="quem_somos_en">Quem Somos (Ingl√™s)</label>
            <textarea id="quem_somos_en" name="conteudo_en" rows="5" class="form-input">{% if quem_somos %}{{ quem_somos.conteudo_en }}{% endif %}</textarea>
        </div>
        <button type="submit" class="btn-admin btn-admin-primary">
            <span>üíæ</span> Salvar Quem Somos
        </button>
    </form>
    
    <!-- Miss√£o -->
    <form method="POST" action="{{ url_for('admin_sobre_conteudo') }}" class="admin-form" style="margin-bottom: 2rem; padding-top: 2rem; border-top: 2px solid var(--border-color);">
        <input type="hidden" name="chave" value="missao">
        <div class="form-group">
            <label for="missao_pt"><strong>Nossa Miss√£o (Portugu√™s)</strong></label>
            <textarea id="missao_pt" name="conteudo_pt" rows="5" class="form-input">{% if missao %}{{ missao.conteudo_pt }}{% else %}Promover a inclus√£o social, educacional e profissional de pessoas com defici√™ncia visual, oferecendo apoio, capacita√ß√£o e recursos necess√°rios para que possam desenvolver todo o seu potencial e participar plenamente da sociedade.{% endif %}</textarea>
        </div>
        <div class="form-group">
            <label for="missao_es">Nossa Miss√£o (Espanhol)</label>
            <textarea id="missao_es" name="conteudo_es" rows="5" class="form-input">{% if missao %}{{ missao.conteudo_es }}{% endif %}</textarea>
        </div>
        <div class="form-group">
            <label for="missao_en">Nossa Miss√£o (Ingl√™s)</label>
            <textarea id="missao_en" name="conteudo_en" rows="5" class="form-input">{% if missao %}{{ missao.conteudo_en }}{% endif %}</textarea>
        </div>
        <button type="submit" class="btn-admin btn-admin-primary">
            <span>üíæ</span> Salvar Miss√£o
        </button>
    </form>
    
    <!-- Valores -->
    <form method="POST" action="{{ url_for('admin_sobre_conteudo') }}" class="admin-form" style="padding-top: 2rem; border-top: 2px solid var(--border-color);">
        <input type="hidden" name="chave" value="valores">
        <div class="form-group">
            <label for="valores_pt"><strong>Nossos Valores (Portugu√™s)</strong></label>
            <textarea id="valores_pt" name="conteudo_pt" rows="8" class="form-input">{% if valores %}{{ valores.conteudo_pt }}{% else %}Inclus√£o: Acreditamos que todos t√™m o direito de participar plenamente da sociedade
Respeito: Valorizamos a diversidade e a dignidade de cada pessoa
Compromisso: Trabalhamos com dedica√ß√£o para alcan√ßar nossos objetivos
Solidariedade: Apoiamos uns aos outros em nossa jornada coletiva
Transpar√™ncia: Mantemos pr√°ticas √©ticas e transparentes em todas as nossas a√ß√µes{% endif %}</textarea>
        </div>
        <div class="form-group">
            <label for="valores_es">Nossos Valores (Espanhol)</label>
            <textarea id="valores_es" name="conteudo_es" rows="8" class="form-input">{% if valores %}{{ valores.conteudo_es }}{% endif %}</textarea>
        </div>
        <div class="form-group">
            <label for="valores_en">Nossos Valores (Ingl√™s)</label>
            <textarea id="valores_en" name="conteudo_en" rows="8" class="form-input">{% if valores %}{{ valores.conteudo_en }}{% endif %}</textarea>
        </div>
        <button type="submit" class="btn-admin btn-admin-primary">
            <span>üíæ</span> Salvar Valores
        </button>
    </form>
</div>

<!-- Diretoria -->
<div class="admin-card" style="margin-top: 2rem;">
    <div class="admin-card-header">
        <h2 class="admin-card-title">Diretoria</h2>
        <a href="{{ url_for('admin_sobre_diretoria_novo') }}" class="btn-admin btn-admin-primary">
            <span>‚ûï</span> Novo Membro
        </a>
    </div>
    
    <div class="admin-table-wrapper">
        <table class="admin-table">
            <thead>
                <tr>
                    <th>Foto</th>
                    <th>Cargo</th>
                    <th>Nome (PT)</th>
                    <th>Ordem</th>
                    <th>A√ß√µes</th>
                </tr>
            </thead>
            <tbody>
                {% if membros_diretoria %}
                    {% for membro in membros_diretoria %}
                    <tr>
                        <td>
                            {% if membro.foto %}
                                <img src="{{ diretoria_foto_url(membro) or url_for('static', filename='images/placeholder.jpg') }}" alt="{{ membro.cargo }}" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; border: 2px solid #2563eb;" onerror="this.src='{{ url_for('static', filename='images/placeholder.jpg') }}'">
                            {% else %}
                                <span style="color: var(--text-light);">Sem foto</span>
                            {% endif %}
                        </td>
                        <td>{{ membro.cargo }}</td>
                        <td>{{ membro.nome_pt }}</td>
                        <td>{{ membro.ordem }}</td>
                        <td>
                            <a href="{{ url_for('admin_sobre_diretoria_editar', id=membro.id) }}" class="btn-admin btn-admin-edit" style="margin-right: 0.5rem;">
                                <span>‚úèÔ∏è</span> Editar
                            </a>
                            <form method="POST" action="{{ url_for('admin_sobre_diretoria_excluir', id=membro.id) }}" style="display: inline;" onsubmit="return confirm('Tem certeza que deseja excluir este membro?');">
                                <button type="submit" class="btn-admin btn-admin-danger">
                                    <span>üóëÔ∏è</span> Excluir
                                </button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="5" style="text-align: center; padding: 2rem; color: var(--text-light);">
                            Nenhum membro da diretoria cadastrado.
                        </td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>

<!-- Conselho Fiscal -->
<div class="admin-card" style="margin-top: 2rem;">
    <div class="admin-card-header">
        <h2 class="admin-card-title">Conselho Fiscal</h2>
        <a href="{{ url_for('admin_sobre_conselho_novo') }}" class="btn-admin btn-admin-primary">
            <span>‚ûï</span> Novo Membro
        </a>
    </div>
    
    <div class="admin-table-wrapper">
        <table class="admin-table">
            <thead>
                <tr>
                    <th>Foto</th>
                    <th>Nome (PT)</th>
                    <th>Ordem</th>
                    <th>A√ß√µes</th>
                </tr>
            </thead>
            <tbody>
                {% if membros_conselho %}
                    {% for membro in membros_conselho %}
                    <tr>
                        <td>
                            {% if membro.foto %}
                                <img src="{{ conselho_foto_url(membro) or url_for('static', filename='images/placeholder.jpg') }}" alt="{{ membro.nome_pt }}" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; border: 2px solid #2563eb;" onerror="this.src='{{ url_for('static', filename='images/placeholder.jpg') }}'">
                            {% else %}
                                <span style="color: var(--text-light);">Sem foto</span>
                            {% endif %}
                        </td>
                        <td>{{ membro.nome_pt }}</td>
                        <td>{{ membro.ordem }}</td>
                        <td>
                            <a href="{{ url_for('admin_sobre_conselho_editar', id=membro.id) }}" class="btn-admin btn-admin-edit" style="margin-right: 0.5rem;">
                                <span>‚úèÔ∏è</span> Editar
                            </a>
                            <form method="POST" action="{{ url_for('admin_sobre_conselho_excluir', id=membro.id) }}" style="display: inline;" onsubmit="return confirm('Tem certeza que deseja excluir este membro?');">
                                <button type="submit" class="btn-admin btn-admin-danger">
                                    <span>üóëÔ∏è</span> Excluir
                                </button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="4" style="text-align: center; padding: 2rem; color: var(--text-light);">
                            Nenhum membro do conselho fiscal cadastrado.
                        </td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}

