{% extends "admin/base.html" %}

{% block title %}{% if album %}Editar √Ålbum{% else %}Novo √Ålbum{% endif %}{% endblock %}

{% block page_title %}{% if album %}Editar √Ålbum{% else %}Novo √Ålbum{% endif %}{% endblock %}

{% block content %}
<div class="admin-card">
    <div class="admin-card-header">
        <h2 class="admin-card-title">{% if album %}Editar √Ålbum{% else %}Novo √Ålbum{% endif %}</h2>
        <a href="{{ url_for('admin_albuns') }}" class="btn-admin btn-admin-secondary">
            <span>‚Ü©Ô∏è</span> Voltar
        </a>
    </div>
    
    <form method="POST" action="{% if album %}{{ url_for('admin_albuns_editar', id=album.id) }}{% else %}{{ url_for('admin_albuns_novo') }}{% endif %}" enctype="multipart/form-data" class="admin-form">
        <div class="form-group">
            <label for="titulo_pt" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                T√≠tulo (Portugu√™s) *
            </label>
            <input type="text" id="titulo_pt" name="titulo_pt" 
                   value="{% if album %}{{ album.titulo_pt }}{% endif %}" 
                   required
                   style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem;">
        </div>
        
        <div class="form-group">
            <label for="titulo_es" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                T√≠tulo (Espanhol)
            </label>
            <input type="text" id="titulo_es" name="titulo_es" 
                   value="{% if album %}{{ album.titulo_es }}{% endif %}"
                   style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem;">
        </div>
        
        <div class="form-group">
            <label for="titulo_en" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                T√≠tulo (Ingl√™s)
            </label>
            <input type="text" id="titulo_en" name="titulo_en" 
                   value="{% if album %}{{ album.titulo_en }}{% endif %}"
                   style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem;">
        </div>
        
        <div class="form-group">
            <label for="descricao_pt" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                Descri√ß√£o (Portugu√™s)
            </label>
            <textarea id="descricao_pt" name="descricao_pt" rows="4"
                      style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem; font-family: inherit;">{% if album %}{{ album.descricao_pt }}{% endif %}</textarea>
        </div>
        
        <div class="form-group">
            <label for="descricao_es" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                Descri√ß√£o (Espanhol)
            </label>
            <textarea id="descricao_es" name="descricao_es" rows="4"
                      style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem; font-family: inherit;">{% if album %}{{ album.descricao_es }}{% endif %}</textarea>
        </div>
        
        <div class="form-group">
            <label for="descricao_en" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                Descri√ß√£o (Ingl√™s)
            </label>
            <textarea id="descricao_en" name="descricao_en" rows="4"
                      style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem; font-family: inherit;">{% if album %}{{ album.descricao_en }}{% endif %}</textarea>
        </div>
        
        <div style="border-top: 2px solid #e5e7eb; padding-top: 1.5rem; margin-top: 1.5rem;">
            <div class="form-group">
                <label for="capa" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                    üì∑ Foto de Capa
                </label>
                {% if album and album.capa %}
                <div style="margin-bottom: 1rem;">
                    <p style="margin-bottom: 0.5rem; color: #6b7280; font-size: 0.875rem;">Capa atual:</p>
                    <img src="{{ url_for('static', filename=album.capa) }}" 
                         alt="Capa do √°lbum" 
                         style="max-width: 300px; height: 200px; object-fit: cover; border-radius: 0.5rem; border: 2px solid #d1d5db;">
                </div>
                {% endif %}
                <input type="file" id="capa" name="capa" accept="image/*"
                       style="width: 100%; padding: 0.75rem; border: 2px solid #3b82f6; border-radius: 0.5rem; font-size: 1rem; background: #eff6ff;">
                <small style="color: #6b7280; font-size: 0.875rem; margin-top: 0.5rem; display: block;">
                    Formatos aceitos: PNG, JPG, JPEG, GIF, WEBP. {% if album %}Deixe em branco para manter a capa atual.{% endif %}
                </small>
            </div>
        </div>
        
        <div class="form-group">
            <label for="ordem" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                Ordem de Exibi√ß√£o
            </label>
            <input type="number" id="ordem" name="ordem" 
                   value="{% if album %}{{ album.ordem }}{% else %}0{% endif %}" 
                   min="0"
                   style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem;">
            <small style="color: #6b7280; font-size: 0.875rem; margin-top: 0.5rem; display: block;">
                Menor n√∫mero aparece primeiro na galeria
            </small>
        </div>
        
        <div style="margin-top: 2rem; display: flex; gap: 1rem;">
            <button type="submit" class="btn-admin btn-admin-primary">
                <span>üíæ</span> {% if album %}Atualizar{% else %}Criar{% endif %} √Ålbum
            </button>
            <a href="{{ url_for('admin_albuns') }}" class="btn-admin btn-admin-secondary">
                <span>‚Ü©Ô∏è</span> Cancelar
            </a>
        </div>
    </form>
</div>
{% endblock %}

