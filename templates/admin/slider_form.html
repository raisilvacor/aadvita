{% extends "admin/base.html" %}

{% block title %}{% if slider_image %}Editar Imagem do Slider{% else %}Nova Imagem do Slider{% endif %}{% endblock %}

{% block page_title %}{% if slider_image %}Editar Imagem do Slider{% else %}Nova Imagem do Slider{% endif %}{% endblock %}

{% block content %}
<div class="admin-card">
    <div class="admin-card-header">
        <h2 class="admin-card-title">{% if slider_image %}Editar Imagem do Slider{% else %}Nova Imagem do Slider{% endif %}</h2>
        <a href="{{ url_for('admin_slider') }}" class="btn-admin btn-admin-secondary">
            <span>‚Üê</span> Voltar
        </a>
    </div>
    
    <div style="background: #f3f4f6; padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1.5rem;">
        <h3 style="font-size: 1.1rem; font-weight: 600; margin-bottom: 0.75rem; color: #1f2937;">
            üìê Informa√ß√µes sobre Tamanhos Recomendados
        </h3>
        <ul style="margin: 0; padding-left: 1.5rem; color: #4b5563; line-height: 1.8;">
            <li><strong>Largura recomendada:</strong> 1920px (Full HD) ou superior</li>
            <li><strong>Altura recomendada:</strong> 600px a 800px</li>
            <li><strong>Propor√ß√£o:</strong> 16:9 ou 21:9 (formato panor√¢mico)</li>
            <li><strong>Formato:</strong> JPG, PNG ou WEBP</li>
            <li><strong>Tamanho do arquivo:</strong> M√°ximo 2MB recomendado para melhor performance</li>
            <li><strong>Resolu√ß√£o:</strong> 72 DPI (para web)</li>
        </ul>
    </div>
    
    <form method="POST" enctype="multipart/form-data" style="max-width: 800px; margin-top: 1.5rem;">
        <div class="form-group" style="margin-bottom: 1.5rem;">
            <label for="titulo" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                T√≠tulo da Imagem *
            </label>
            <input type="text" 
                   id="titulo" 
                   name="titulo" 
                   value="{{ slider_image.titulo if slider_image else '' }}" 
                   required
                   style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem;"
                   placeholder="Digite o t√≠tulo da imagem">
            <small style="display: block; margin-top: 0.5rem; color: #6b7280;">
                T√≠tulo descritivo da imagem (usado para acessibilidade e SEO)
            </small>
        </div>
        
        <div class="form-group" style="margin-bottom: 1.5rem;">
            <label for="imagem" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                Imagem {% if slider_image %}(deixe em branco para manter a atual){% else %}*{% endif %}
            </label>
            {% if slider_image and slider_image.imagem %}
                <div style="margin-bottom: 1rem;">
                    <img src="{{ slider_imagem_url(slider_image) or url_for('static', filename=slider_image.imagem) }}" 
                         alt="{{ slider_image.titulo }}" 
                         style="max-width: 100%; max-height: 400px; object-fit: contain; border-radius: 0.5rem; border: 2px solid #d1d5db; padding: 0.5rem;">
                    <p style="margin-top: 0.5rem; color: #6b7280; font-size: 0.875rem;">
                        Imagem atual
                    </p>
                </div>
            {% endif %}
            <input type="file" 
                   id="imagem" 
                   name="imagem" 
                   accept="image/png,image/jpeg,image/jpg,image/gif,image/webp"
                   {% if not slider_image %}required{% endif %}
                   style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem;">
            <small style="display: block; margin-top: 0.5rem; color: #6b7280;">
                Formatos aceitos: PNG, JPG, JPEG, GIF, WEBP
            </small>
        </div>
        
        <div class="form-group" style="margin-bottom: 1.5rem;">
            <label for="descricao_imagem" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                Descri√ß√£o da Imagem
            </label>
            <textarea id="descricao_imagem" 
                      name="descricao_imagem" 
                      rows="3"
                      style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem; font-family: inherit;"
                      placeholder="Descreva o conte√∫do da imagem para facilitar a leitura por leitores de tela. Ex: 'Foto mostrando pessoas em uma reuni√£o da AADVITA'">{{ slider_image.descricao_imagem if slider_image and slider_image.descricao_imagem else '' }}</textarea>
            <small style="display: block; margin-top: 0.5rem; color: #6b7280;">
                Descreva o conte√∫do visual da imagem. Esta descri√ß√£o ser√° usada pelo leitor de √°udio para descrever a imagem aos usu√°rios com defici√™ncia visual.
            </small>
        </div>
        
        <div class="form-group" style="margin-bottom: 1.5rem;">
            <label for="link" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                Link (Opcional)
            </label>
            <input type="url" 
                   id="link" 
                   name="link" 
                   value="{{ slider_image.link if slider_image and slider_image.link else '' }}" 
                   style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem;"
                   placeholder="https://exemplo.com.br">
            <small style="display: block; margin-top: 0.5rem; color: #6b7280;">
                URL para onde a imagem ser√° direcionada quando clicada (deixe em branco se n√£o desejar que a imagem seja clic√°vel)
            </small>
        </div>
        
        <div class="form-group" style="margin-bottom: 1.5rem;">
            <label for="ordem" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">
                Ordem de Exibi√ß√£o
            </label>
            <input type="number" 
                   id="ordem" 
                   name="ordem" 
                   value="{{ slider_image.ordem if slider_image else '0' }}" 
                   min="0"
                   style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 0.5rem; font-size: 1rem;"
                   placeholder="0">
            <small style="display: block; margin-top: 0.5rem; color: #6b7280;">
                N√∫mero que define a ordem de exibi√ß√£o no slider (menor n√∫mero aparece primeiro)
            </small>
        </div>
        
        <div class="form-group" style="margin-bottom: 1.5rem;">
            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                <input type="checkbox" 
                       id="ativo" 
                       name="ativo" 
                       {% if slider_image and slider_image.ativo or not slider_image %}checked{% endif %}
                       style="width: 1.25rem; height: 1.25rem; cursor: pointer;">
                <span style="font-weight: 600; color: #374151;">Imagem ativa</span>
            </label>
            <small style="display: block; margin-top: 0.5rem; color: #6b7280;">
                Imagens inativas n√£o ser√£o exibidas no slider
            </small>
        </div>
        
        <div class="form-actions" style="display: flex; gap: 1rem; margin-top: 2rem;">
            <button type="submit" class="btn-admin btn-admin-primary">
                <span>üíæ</span> {% if slider_image %}Salvar Altera√ß√µes{% else %}Cadastrar Imagem{% endif %}
            </button>
            <a href="{{ url_for('admin_slider') }}" class="btn-admin btn-admin-secondary">
                <span>‚ùå</span> Cancelar
            </a>
        </div>
    </form>
</div>
{% endblock %}

